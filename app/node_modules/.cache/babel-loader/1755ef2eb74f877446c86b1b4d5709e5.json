{"ast":null,"code":"import _slicedToArray from\"C:/Users/Mati/Documents/Programacion/blog-fullstack-monorepo/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import{Button,Col,Container,Form}from\"react-bootstrap\";import{Link,useNavigate}from\"react-router-dom\";import{useContext}from\"react\";import LoginContext from\"../context/LoginContext\";import{useEffect}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=function Login(){var _useContext=useContext(LoginContext),isLoggedIn=_useContext.isLoggedIn,username=_useContext.username,setUsername=_useContext.setUsername,password=_useContext.password,setPassword=_useContext.setPassword,handleLogin=_useContext.handleLogin;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isLoading=_useState2[0],setLoading=_useState2[1];var navigate=useNavigate();var handleSubmit=function handleSubmit(event){event.preventDefault();handleLogin(username,password);if(!isLoading){handleClick();}};function simulateNetworkRequest(){return new Promise(function(resolve){return setTimeout(resolve,2000);});}var handleClick=function handleClick(){return setLoading(true);};useEffect(function(){if(isLoading){simulateNetworkRequest().then(function(){setLoading(false);console.log(\"hola\");Navigate();});}var Navigate=function Navigate(){console.log(\"navigate : \"+isLoggedIn);isLoggedIn&&navigate(\"/admin\");};Navigate();},[isLoading,isLoggedIn,navigate]);return/*#__PURE__*/_jsx(Container,{className:\"d-flex justify-content-center align-items-center my-5 login-container\",children:/*#__PURE__*/_jsxs(Col,{lg:8,md:8,sm:10,xs:10,children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"text-center\",children:[\"\\xA1Bienvenido nuevamente! \",/*#__PURE__*/_jsx(\"br\",{}),\"Inicia sesi\\xF3n\"]}),/*#__PURE__*/_jsxs(Form,{className:\"d-flex align-items-center justify-content-center row\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",controlId:\"formBasicEmail\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Usuario\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",value:username,placeholder:\"Ingresa tu usuario\",onChange:function onChange(_ref){var target=_ref.target;return setUsername(target.value);}})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",controlId:\"formBasicPassword\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Contrase\\xF1a\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"password\",value:password,placeholder:\"Ingresa tu contrase\\xF1a\",onChange:function onChange(_ref2){var target=_ref2.target;return setPassword(target.value);}})]}),/*#__PURE__*/_jsx(Form.Group,{className:\"mb-3\",controlId:\"formBasicCheckbox\",children:/*#__PURE__*/_jsx(Form.Check,{type:\"checkbox\",label:\"Mantener sesi\\xF3n iniciada\"})}),/*#__PURE__*/_jsx(Link,{to:\"/register\",className:\"mb-1\",children:\"\\xBFPrimera vez? \\xA1Registrate gr\\xE1tis!\"}),/*#__PURE__*/_jsx(Link,{to:\"/passwordForgotten\",className:\"mb-3\",children:\"Olvid\\xE9 mi contrase\\xF1a\"}),/*#__PURE__*/_jsx(Col,{lg:8,xs:12,className:\"d-flex row justify-content-center\",children:/*#__PURE__*/_jsx(Button,{variant:\"primary\",type:\"submit\",disabled:isLoading// onClick={!isLoading ? handleClick : null}\n,children:isLoading?\"Iniciando sesión...\":\"Iniciar sesión\"})})]})]})});};export default Login;","map":{"version":3,"names":["React","useState","Button","Col","Container","Form","Link","useNavigate","useContext","LoginContext","useEffect","Login","isLoggedIn","username","setUsername","password","setPassword","handleLogin","isLoading","setLoading","navigate","handleSubmit","event","preventDefault","handleClick","simulateNetworkRequest","Promise","resolve","setTimeout","then","console","log","Navigate","target","value"],"sources":["C:/Users/Mati/Documents/Programacion/blog-fullstack-monorepo/app/src/Layouts/Login.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { Button, Col, Container, Form } from \"react-bootstrap\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport { useContext } from \"react\";\r\nimport LoginContext from \"../context/LoginContext\";\r\nimport { useEffect } from \"react\";\r\n\r\nconst Login = () => {\r\n  const {\r\n    isLoggedIn,\r\n    username,\r\n    setUsername,\r\n    password,\r\n    setPassword,\r\n    handleLogin,\r\n  } = useContext(LoginContext);\r\n  const [isLoading, setLoading] = useState(false);\r\n\r\n  let navigate = useNavigate();\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    handleLogin(username, password);\r\n    if (!isLoading) {\r\n      handleClick();\r\n    }\r\n  };\r\n\r\n  function simulateNetworkRequest() {\r\n    return new Promise((resolve) => setTimeout(resolve, 2000));\r\n  }\r\n  const handleClick = () => setLoading(true);\r\n  useEffect(() => {\r\n    if (isLoading) {\r\n      simulateNetworkRequest().then(() => {\r\n        setLoading(false);\r\n        console.log(\"hola\");\r\n        Navigate();\r\n      });\r\n    }\r\n    const Navigate = () => {\r\n      console.log(\"navigate : \" + isLoggedIn);\r\n      isLoggedIn && navigate(\"/admin\");\r\n    };\r\n    Navigate();\r\n  }, [isLoading, isLoggedIn, navigate]);\r\n\r\n  return (\r\n    <Container className=\"d-flex justify-content-center align-items-center my-5 login-container\">\r\n      <Col lg={8} md={8} sm={10} xs={10}>\r\n        <h1 className=\"text-center\">\r\n          ¡Bienvenido nuevamente! <br />\r\n          Inicia sesión\r\n        </h1>\r\n        <Form\r\n          className=\"d-flex align-items-center justify-content-center row\"\r\n          onSubmit={handleSubmit}\r\n        >\r\n          <Form.Group className=\"mb-3\" controlId=\"formBasicEmail\">\r\n            <Form.Label>Usuario</Form.Label>\r\n            <Form.Control\r\n              type=\"text\"\r\n              value={username}\r\n              placeholder=\"Ingresa tu usuario\"\r\n              onChange={({ target }) => setUsername(target.value)}\r\n            />\r\n          </Form.Group>\r\n\r\n          <Form.Group className=\"mb-3\" controlId=\"formBasicPassword\">\r\n            <Form.Label>Contraseña</Form.Label>\r\n            <Form.Control\r\n              type=\"password\"\r\n              value={password}\r\n              placeholder=\"Ingresa tu contraseña\"\r\n              onChange={({ target }) => setPassword(target.value)}\r\n            />\r\n          </Form.Group>\r\n          <Form.Group className=\"mb-3\" controlId=\"formBasicCheckbox\">\r\n            <Form.Check type=\"checkbox\" label=\"Mantener sesión iniciada\" />\r\n          </Form.Group>\r\n          <Link to={\"/register\"} className=\"mb-1\">\r\n            ¿Primera vez? ¡Registrate grátis!\r\n          </Link>\r\n          <Link to={\"/passwordForgotten\"} className=\"mb-3\">\r\n            Olvidé mi contraseña\r\n          </Link>\r\n          <Col lg={8} xs={12} className=\"d-flex row justify-content-center\">\r\n            <Button\r\n              variant=\"primary\"\r\n              type=\"submit\"\r\n              disabled={isLoading}\r\n              // onClick={!isLoading ? handleClick : null}\r\n            >\r\n              {isLoading ? \"Iniciando sesión...\" : \"Iniciar sesión\"}\r\n            </Button>\r\n          </Col>\r\n        </Form>\r\n      </Col>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}