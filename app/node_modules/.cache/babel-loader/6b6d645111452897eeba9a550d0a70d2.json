{"ast":null,"code":"import _slicedToArray from\"C:/Users/Mati/Documents/Programacion/blog-fullstack-monorepo/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useContext,useEffect}from\"react\";import{useState}from\"react\";import{Button,Container,Form}from\"react-bootstrap\";import ReactQuill from\"react-quill\";import\"react-quill/dist/quill.bubble.css\";import\"react-quill/dist/quill.snow.css\";import LoginContext from\"../../context/LoginContext.js\";import postServices from\"../../services/posts.js\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CreatePost=function CreatePost(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),title=_useState2[0],setTitle=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),imgSrc=_useState4[0],setImgSrc=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),content=_useState6[0],setContent=_useState6[1];var _useContext=useContext(LoginContext),token=_useContext.token,setToken=_useContext.setToken;useEffect(function(){var loggedUserJSON=window.localStorage.getItem(\"loggedNoteAppUser\");if(loggedUserJSON){var user=JSON.parse(loggedUserJSON);setToken(\"Bearer \".concat(user.token));}},[setToken]);var modules={toolbar:[[{font:[]}],[{header:[1,2,3,4,5,6,false]}],[\"bold\",\"italic\",\"underline\",\"strike\"],[{color:[]},{background:[]}],[{script:\"sub\"},{script:\"super\"}],[\"blockquote\",\"code-block\"],[{list:\"ordered\"},{list:\"bullet\"}],[{indent:\"-1\"},{indent:\"+1\"},{align:[]}],[\"link\",\"image\",\"video\"],[\"clean\"]]};var navigate=useNavigate();var addPost=function addPost(e){e.preventDefault();var postObject={title:title,imgSrc:imgSrc,content:content};console.log(token);postServices.create(postObject,{token:token}).then(function(returnedPost){console.log(returnedPost);},function(reason){console.log(reason);// Error!\nnavigate(\"/login\");});setTitle(\"\");setImgSrc(\"\");setContent(\"\");};return/*#__PURE__*/_jsxs(Container,{className:\"mt-5\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"py-3\",children:\"Comienza a crear\"}),/*#__PURE__*/_jsxs(Form,{className:\"d-flex align-items-center justify-content-center row\",onSubmit:addPost,children:[/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",controlId:\"formBasic\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Titulo del blog\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",value:title,placeholder:\"Ingrese el t\\xEDtulo\",onChange:function onChange(_ref){var target=_ref.target;return setTitle(target.value);}})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",controlId:\"formBasic\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Source de la imagen de Preview\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",value:imgSrc,placeholder:\"Ingrese la direcci\\xF3n de la imagen del post\",onChange:function onChange(_ref2){var target=_ref2.target;return setImgSrc(target.value);}})]}),/*#__PURE__*/_jsx(\"h2\",{children:\"Contenido del blog\"}),/*#__PURE__*/_jsx(ReactQuill,{theme:\"snow\",modules:modules,value:content,onChange:setContent}),/*#__PURE__*/_jsx(Container,{className:\"d-flex justify-content-center row\",children:/*#__PURE__*/_jsx(Button,{className:\"mt-3\",type:\"submit\",children:\"Crear\"})})]})]});};export default CreatePost;","map":{"version":3,"names":["useContext","useEffect","useState","Button","Container","Form","ReactQuill","LoginContext","postServices","useNavigate","CreatePost","title","setTitle","imgSrc","setImgSrc","content","setContent","token","setToken","loggedUserJSON","window","localStorage","getItem","user","JSON","parse","modules","toolbar","font","header","color","background","script","list","indent","align","navigate","addPost","e","preventDefault","postObject","console","log","create","then","returnedPost","reason","target","value"],"sources":["C:/Users/Mati/Documents/Programacion/blog-fullstack-monorepo/app/src/AdminLayout/Components/CreatePost.jsx"],"sourcesContent":["import { useContext, useEffect } from \"react\";\r\nimport { useState } from \"react\";\r\nimport { Button, Container, Form } from \"react-bootstrap\";\r\nimport ReactQuill from \"react-quill\";\r\nimport \"react-quill/dist/quill.bubble.css\";\r\nimport \"react-quill/dist/quill.snow.css\";\r\nimport LoginContext from \"../../context/LoginContext.js\";\r\nimport postServices from \"../../services/posts.js\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nconst CreatePost = () => {\r\n  const [title, setTitle] = useState(\"\");\r\n  const [imgSrc, setImgSrc] = useState(\"\");\r\n  const [content, setContent] = useState(\"\");\r\n  const { token, setToken } = useContext(LoginContext);\r\n\r\n  useEffect(() => {\r\n    const loggedUserJSON = window.localStorage.getItem(\"loggedNoteAppUser\");\r\n    if (loggedUserJSON) {\r\n      const user = JSON.parse(loggedUserJSON);\r\n      setToken(`Bearer ${user.token}`);\r\n    }\r\n  }, [setToken]);\r\n  const modules = {\r\n    toolbar: [\r\n      [{ font: [] }],\r\n      [{ header: [1, 2, 3, 4, 5, 6, false] }],\r\n      [\"bold\", \"italic\", \"underline\", \"strike\"],\r\n      [{ color: [] }, { background: [] }],\r\n      [{ script: \"sub\" }, { script: \"super\" }],\r\n      [\"blockquote\", \"code-block\"],\r\n      [{ list: \"ordered\" }, { list: \"bullet\" }],\r\n      [{ indent: \"-1\" }, { indent: \"+1\" }, { align: [] }],\r\n      [\"link\", \"image\", \"video\"],\r\n      [\"clean\"],\r\n    ],\r\n  };\r\n  let navigate = useNavigate();\r\n  const addPost = (e) => {\r\n    e.preventDefault();\r\n    const postObject = {\r\n      title,\r\n      imgSrc,\r\n      content,\r\n    };\r\n    console.log(token);\r\n    postServices.create(postObject, { token }).then(\r\n      (returnedPost) => {\r\n        console.log(returnedPost);\r\n      },\r\n      function (reason) {\r\n        console.log(reason); // Error!\r\n        navigate(\"/login\");\r\n      }\r\n    );\r\n    setTitle(\"\");\r\n    setImgSrc(\"\");\r\n    setContent(\"\");\r\n  };\r\n  return (\r\n    <Container className=\"mt-5\">\r\n      <h1 className=\"py-3\">Comienza a crear</h1>\r\n      <Form\r\n        className=\"d-flex align-items-center justify-content-center row\"\r\n        onSubmit={addPost}\r\n      >\r\n        <Form.Group className=\"mb-3\" controlId=\"formBasic\">\r\n          <Form.Label>Titulo del blog</Form.Label>\r\n          <Form.Control\r\n            type=\"text\"\r\n            value={title}\r\n            placeholder=\"Ingrese el título\"\r\n            onChange={({ target }) => setTitle(target.value)}\r\n          />\r\n        </Form.Group>\r\n        <Form.Group className=\"mb-3\" controlId=\"formBasic\">\r\n          <Form.Label>Source de la imagen de Preview</Form.Label>\r\n          <Form.Control\r\n            type=\"text\"\r\n            value={imgSrc}\r\n            placeholder=\"Ingrese la dirección de la imagen del post\"\r\n            onChange={({ target }) => setImgSrc(target.value)}\r\n          />\r\n        </Form.Group>\r\n        {/* <h2>Imagen de preview</h2>\r\n        <ReactQuill\r\n          theme=\"snow\"\r\n          modules={modules}\r\n          value={imgSrc}\r\n          onChange={setImgSrc}\r\n          // className=\"bubble-editor\"\r\n        /> */}\r\n        <h2>Contenido del blog</h2>\r\n        <ReactQuill\r\n          theme=\"snow\"\r\n          modules={modules}\r\n          value={content}\r\n          onChange={setContent}\r\n        />\r\n        {/* <Button className=\"mt-3\" onClick={addPost}> */}\r\n        <Container className=\"d-flex justify-content-center row\">\r\n          <Button className=\"mt-3\" type=\"submit\">\r\n            Crear\r\n          </Button>\r\n        </Container>\r\n      </Form>\r\n      {/* <h2>Titulo del blog</h2>\r\n      <ReactQuill\r\n        theme=\"bubble\"\r\n        value={title}\r\n        onChange={setTitle}\r\n        className=\"bubble-editor\"\r\n      /> */}\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default CreatePost;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}